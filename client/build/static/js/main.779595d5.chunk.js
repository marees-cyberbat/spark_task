(this["webpackJsonpspark-app"]=this["webpackJsonpspark-app"]||[]).push([[0],{43:function(e,t,a){e.exports=a(75)},71:function(e,t,a){},72:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"fetchUser",(function(){return p})),a.d(n,"deleteNote",(function(){return E})),a.d(n,"modeAction",(function(){return g})),a.d(n,"returnErrors",(function(){return v})),a.d(n,"clearErrors",(function(){return h})),a.d(n,"login",(function(){return y})),a.d(n,"register",(function(){return b})),a.d(n,"logout",(function(){return O})),a.d(n,"addNote",(function(){return x})),a.d(n,"addCat",(function(){return S})),a.d(n,"getCat",(function(){return j})),a.d(n,"getNote",(function(){return C})),a.d(n,"deleteCat",(function(){return k})),a.d(n,"chosen",(function(){return _})),a.d(n,"tokenConfig",(function(){return w}));var r=a(0),c=a.n(r),l=a(20),o=a.n(l),s=a(6),i=a(5),u=a.n(i),d=a(12),m=a(13),f=a.n(m),p=function(){return function(){var e=Object(d.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"USER_LOADING"}),e.prev=1,e.next=4,f.a.get("https://sparknote.herokuapp.com/api/user",w(a));case 4:(n=e.sent)&&t({type:"USER_LOADED",payload:n.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t(v(e.t0.response.data,e.t0.response.status)),t({type:"AUTH_ERROR"});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(a,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,t.next=4,f.a.post("https://sparknote.herokuapp.com/api/delete_note",e,w(n));case 4:t.sent&&a(v("Successful","200","DELETE_NOTE")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a(v("Failed To delete",500));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,a){return t.apply(this,arguments)}}()},g=function(e){return function(t){t({type:"MODE",payload:e})}},v=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:"GET_ERRORS",payload:{msg:e,status:t,id:a}}},h=function(){return{type:"CLEAR_ERRORS"}},y=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,t.next=4,f.a.post("https://sparknote.herokuapp.com/api/login",e);case 4:n=t.sent,console.log(n),n&&(a(v("Login Successful","200","LOGIN_SUCCESS")),a({type:"LOGIN_SUCCESS",payload:n.data})),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),a(v("404 User Not Found","404","LOGIN_FAIL")),a({type:"LOGIN_FAIL"});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(a){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={header:{"Content-Type":"application/json"}},t.prev=1,t.next=4,f.a.post("https://sparknote.herokuapp.com/api/new_user",e,n);case 4:(r=t.sent)&&(a(v("Registration Successful","200","REGISTER_SUCCESS")),a({type:"REGISTER_SUCCESS",payload:r.data})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),a(v(t.t0.toString(),500,"REGISTER_FAIL")),a({type:"REGISTER_FAIL"});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},O=function(){return{type:"LOGOG_OUT_SUCCESS"}},x=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(a,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,t.next=4,f.a.post("https://sparknote.herokuapp.com/api/new_note",e,w(n));case 4:t.sent&&a(v("Successful","200","add_note")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a(v(t.t0.response.data,t.t0.response.status));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,a){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(a,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,t.next=4,f.a.post("https://sparknote.herokuapp.com/api/new_cat",e,w(n));case 4:t.sent&&a(v("Successful","200","ADD_CATEGORY")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a(v(t.t0.response.data,t.t0.response.status));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,a){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,t.next=4,f.a.get("https://sparknote.herokuapp.com/api/get_cat/".concat(e));case 4:(n=t.sent)&&a({type:"GET_CATEGORY",payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a(v(t.t0.response.data,t.t0.response.status));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},C=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,t.next=4,f.a.get("https://sparknote.herokuapp.com/api/get_note/".concat(e));case 4:(n=t.sent)&&a({type:"get_note",payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a(v(t.t0.toString(),500));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},k=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(a,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,t.next=4,f.a.post("https://sparknote.herokuapp.com/api/delete_cat",e,w(n));case 4:t.sent&&a(v("Successful","200","DELETE_CATEGORY")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a(v("Failed To Delete Category","500"));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,a){return t.apply(this,arguments)}}()},_=function(e){return function(t){t({type:"CHOSEN",payload:e})}},w=function(e){var t=e().auth.token,a={headers:{"Content-type":"application/json"}};return t&&(a.headers["x-auth-token"]=t),a},R=a(14),A=a(3),N=a(17),T=a(1),L=a.n(T);var D=Object(s.b)((function(e){return console.log(e),{isAuthenticated:e.auth.isAuthenticated,error:e.error}}),n)((function(e){var t=Object(r.useRef)(),a=Object(r.useRef)(),n=Object(r.useRef)(),l=function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e})),t.current}(e),o=Object(A.f)(),s=function(){if(t.current.value.trim()&&a.current.value.trim()){var n={username:"".concat(t.current.value.trim()),password:"".concat(a.current.value.trim())};console.log(n),e.login(n)}else L.a.toast({html:"Please Fill All Fields"})},i=function(e,t){if(13===e.keyCode)if("next"===t){var a=e.target.form,n=Array.prototype.indexOf.call(a,e.target);a.elements[n+1].focus(),e.preventDefault()}else s()};return Object(r.useEffect)((function(){n.current?(e.error!==l.error&&("LOGIN_FAIL"===e.error.id?L.a.toast({html:"".concat(e.error.msg)}):"LOGIN_SUCCESS"===e.error.id&&(L.a.toast({html:"".concat(e.error.msg)}),o.push("/dashboard"))),console.log(l),console.log(e)):n.current=!0})),c.a.createElement("div",{class:"row"},c.a.createElement("form",{class:"col"},c.a.createElement("h1",{class:"indigo-text"},"LOGIN"),c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"input-field col col-sm-12 col-lg-12 col-xl-12 col-md-12"},c.a.createElement("i",{class:"material-icons prefix"},"account_circle"),c.a.createElement("input",{onKeyDown:function(e){return i(e,"next")},ref:t,id:"icon_prefix",type:"text",class:"validate"}),c.a.createElement("label",{for:"icon_prefix"},"Username"))),c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"input-field col col-sm-12 col-lg-12 col-xl-12 col-md-12"},c.a.createElement("i",{class:"material-icons prefix"},"security"),c.a.createElement("input",{onKeyDown:function(e){return i(e,"submit")},ref:a,id:"pass",type:"password",class:"validate"}),c.a.createElement("label",{for:"pass"},"Password"))),c.a.createElement("div",{onClick:function(){return s()},class:"btn indigo darken-2"},"Login"),c.a.createElement("div",{onClick:function(){return e.myKey(!1)},className:"mt-3 my-link btn-link row justify-content-center"},"New User? Register here!")))}));a(71);var G=Object(s.b)((function(e){return console.log(e),{isAuthenticated:e.auth.isAuthenticated,error:e.error}}),n)((function(e){var t=Object(r.useRef)(),a=Object(r.useRef)(),n=Object(r.useRef)(),l=Object(r.useRef)(),o=Object(r.useRef)(),s=Object(r.useRef)(),i=function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e})),t.current}(e),u=Object(A.f)();Object(r.useEffect)((function(){var t;s.current?(e.error!==i.error&&("REGISTER_FAIL"===e.error.id?L.a.toast({html:"".concat(e.error.msg.msg)}):(L.a.toast({html:"".concat(e.error.msg)}),t="/dashboard",u.push(t))),console.log(i),console.log(e)):s.current=!0}));var d=function(e,t){if(13===e.keyCode)if("next"===t){var a=e.target.form,n=Array.prototype.indexOf.call(a,e.target);a.elements[n+1].focus(),e.preventDefault()}else m()},m=function(){if(t.current.value.trim()&&a.current.value.trim()&&l.current.value.trim()&&o.current.value.trim()&&n.current.value.trim())if(document.querySelector("#pass").value!==document.querySelector("#confirm_pass").value)L.a.toast({html:"Password did not match"});else{var r={username:"".concat(t.current.value.trim()),mail:"".concat(a.current.value.trim()),contact:"".concat(l.current.value.trim()),password:"".concat(n.current.value.trim())};console.log(r),e.register(r)}else L.a.toast({html:"Please Fill All Fields"})};return c.a.createElement("div",{class:"row"},c.a.createElement("form",{class:"col"},c.a.createElement("h1",{class:"indigo-text"},"REGISTER"),c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"input-field col col-sm-12 col-lg-12 col-xl-12 col-md-12"},c.a.createElement("i",{class:"material-icons prefix"},"account_circle"),c.a.createElement("input",{onKeyDown:function(e){return d(e,"next")},ref:t,id:"icon_prefix",type:"text",class:"validate"}),c.a.createElement("label",{for:"icon_prefix"},"Username"))),c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"input-field col col-sm-12 col-lg-12 col-xl-12 col-md-12"},c.a.createElement("i",{class:"material-icons prefix"},"email"),c.a.createElement("input",{onKeyDown:function(e){return d(e,"next")},ref:a,id:"email",type:"email",class:"validate"}),c.a.createElement("label",{for:"email"},"Email"),c.a.createElement("span",{class:"helper-text","data-error":"Please Enter Valid E-Mail","data-success":"valid"}))),c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"input-field col col-sm-12 col-lg-12 col-xl-12 col-md-12"},c.a.createElement("i",{class:"material-icons prefix"},"phone"),c.a.createElement("input",{onKeyDown:function(e){return d(e,"next")},ref:l,id:"tele",pattern:"[789][0-9]{9}",type:"tel",class:"validate"}),c.a.createElement("label",{for:"tele"},"Contact Nomber"),c.a.createElement("span",{class:"helper-text","data-error":"Please Enter Valid Number","data-success":"valid"}))),c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"input-field col col-sm-12 col-lg-12 col-xl-12 col-md-12"},c.a.createElement("i",{class:"material-icons prefix"},"security"),c.a.createElement("input",{onKeyDown:function(e){return d(e,"next")},ref:n,id:"pass",type:"password",class:"validate"}),c.a.createElement("label",{for:"pass"},"Password"))),c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"input-field col col-sm-12 col-lg-12 col-xl-12 col-md-12"},c.a.createElement("i",{class:"material-icons prefix"},"security"),c.a.createElement("input",{onKeyDown:function(e){return d(e,"submit")},ref:o,id:"confirm_pass",type:"password",class:"validate"}),c.a.createElement("label",{for:"confirm_pass"},"Confirm Password"))),c.a.createElement("div",{onClick:function(){return m()},class:"btn indigo darken-2"},"Register"),c.a.createElement("div",{onClick:function(){return e.myKey(!0)},className:"mt-3 my-link row justify-content-center"},"Already have an account? login here!")))})),I=a(23);var U=Object(s.b)((function(e){return{auth:e.auth,error:e.error,list:e.list}}),n)((function(e){var t=Object(r.useRef)(),a=Object(r.useRef)(),n=function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e})),t.current}(e),l=function(){var e=document.getElementById("modal1");L.a.Modal.init(e,{dismissible:!0}).destroy()};Object(r.useEffect)((function(){a.current?(e.error!==n.error&&"ADD_CATEGORY"===e.error.id&&"Successful"===e.error.msg&&(L.a.toast({html:"Category Added"}),l(),e.getCat("".concat(e.auth.user.id||e.auth.user._id))),console.log(n),console.log(e)):a.current=!0}));var o=function(){if(""===t.current.value.trim())return L.a.toast({html:"Please Enter Category Name"});if(!e.auth.isAuthenticated)return L.a.toast({html:"Session Token Expired Please login again"});var a=!1;try{e.list.category.resp.category.map((function(e){if(t.current.value.trim()===e)return L.a.Toast({html:"Category Already Exists!"}),void(a=!0)}))}catch(n){}try{a||e.addCat({user:"".concat(e.auth.user.id||e.auth.user._id),category:[].concat(Object(I.a)(e.list.category.resp.category),[t.current.value.trim()])})}catch(r){a||e.addCat({user:"".concat(e.auth.user.id||e.auth.user._id),category:[t.current.value.trim()]})}};return c.a.createElement("div",{class:"indigo col col-md-12 col-lg-12 col-xl-12"},c.a.createElement("div",{id:"modal6",class:"modal"},c.a.createElement("div",{class:"modal-content"},c.a.createElement("h4",null,"Add Category"),c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"input-field col s12"},c.a.createElement("input",{ref:t,id:"cat",type:"text"}),c.a.createElement("label",{for:"cat"},"Category Name"))),c.a.createElement("div",{class:"d-flex justify-content-around"},c.a.createElement("div",{class:"modal-close btn bg-danger",onClick:function(){return l()}},"Cancel"),c.a.createElement("div",{class:"modal-close btn bg-success",onClick:function(){return o()}},"Add")))),c.a.createElement("div",{class:"headw center"},"Categories"),c.a.createElement("div",{class:"collection"},c.a.createElement("a",{onClick:function(){return function(){t.current.value="";var e=document.getElementById("modal6");L.a.Modal.init(e,{dismissible:!1}).open()}()},class:"indigo-text collection-item"},c.a.createElement("div",{class:"center"},"Add New",c.a.createElement("a",{class:"secondary-content"},c.a.createElement("i",{class:"material-icons"},"add")))),function(){console.log(e.list.category.resp);try{return e.list.category.resp.category.map((function(t){return c.a.createElement("a",{onClick:function(){return e.chosen(t)},class:"indigo-text collection-item"},t)}))}catch(t){}}()))}));var F=Object(s.b)((function(e){return{auth:e.auth}}),n)((function(e){var t=Object(A.f)(),a=function(){e.logout(),t.push("/")},n=null;return Object(r.useEffect)((function(){console.log(e);var t=document.querySelector(".sidenav");n=L.a.Sidenav.init(t)}),[]),c.a.createElement("div",null,c.a.createElement("ul",{id:"slide-out",className:"indigo sidenav"},c.a.createElement("li",null,c.a.createElement("div",{className:"user-view"},c.a.createElement("div",{className:"background indigo darken-4"}),c.a.createElement("a",null,c.a.createElement("span",{style:{fontSize:"large"},className:"white-text name"},"SPARK OUT NOTE TASK")),c.a.createElement("a",null,c.a.createElement("span",{className:"white-text email"},"".concat(e.auth.user?e.auth.user.mail:"Session Ended"))),c.a.createElement("div",{onClick:function(){return a()},class:"indigo w-100 btn"},"Logout"))),c.a.createElement(U,null)),c.a.createElement("nav",{class:"indigo darken-4"},c.a.createElement("div",{class:"nav-wrapper container"},"home"===e.mode?null:c.a.createElement("div",{class:"show-on-small"},c.a.createElement("a",{onClick:function(){return function(){if(n)n.open();else{var e=document.querySelector(".sidenav");(n=L.a.Sidenav.init(e)).open()}}()},style:{padding:"0 35px",float:"left"},class:"brand-logo left"},c.a.createElement("i",{class:"material-icons "},"menu"))),c.a.createElement("a",{class:"brand-logo"},"Spark Note"),"home"===e.mode?c.a.createElement("div",null):c.a.createElement("ul",{id:"nav-mobile",class:"right hide-on-med-and-down"},c.a.createElement("li",null,c.a.createElement("a",null,"".concat(e.auth.user?e.auth.user.mail:"Session Ended"))),c.a.createElement("li",null,c.a.createElement("a",{onClick:function(){return a()}},"Logout"))))))}));a(72);var P=function(){var e=Object(r.useState)(!0),t=Object(N.a)(e,2),a=t[0],n=t[1];return c.a.createElement("div",null,c.a.createElement(F,{mode:"home"}),c.a.createElement("div",{class:"row mt-2 p-5 justify-content-center"},c.a.createElement("div",{class:"center indigo lighten-5 col-sm-12 col-lg-6 col-xl-4 col-md-8 mt-5 card-panel"},!0===a?c.a.createElement(D,{myKey:n}):c.a.createElement(G,{myKey:n}))))};var K=Object(s.b)((function(e){return{auth:e.auth,error:e.error,list:e.list}}),n)((function(e){var t=Object(r.useRef)(),a=Object(r.useRef)(),n=function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e})),t.current}(e),l=function(){var e=document.getElementById("modal1");L.a.Modal.init(e,{dismissible:!0}).destroy()};Object(r.useEffect)((function(){a.current?(e.error!==n.error&&"ADD_CATEGORY"===e.error.id&&"Successful"===e.error.msg&&(L.a.toast({html:"Category Added"}),l(),e.getCat("".concat(e.auth.user.id||e.auth.user._id))),console.log(n),console.log(e)):a.current=!0}));var o=function(){if(""===t.current.value.trim())return L.a.toast({html:"Please Enter Category Name"});if(!e.auth.isAuthenticated)return L.a.toast({html:"Session Token Expired Please login again"});var a=!1,n=t.current.value.trim();try{e.list.category.resp.category.map((function(e){console.log(e),n==e&&(a=!0)}))}catch(r){console.log(r.toString())}try{if(console.log(a),a)return L.a.toast({html:"Category already exists!"});e.addCat({user:"".concat(e.auth.user.id||e.auth.user._id),category:[].concat(Object(I.a)(e.list.category.resp.category),[t.current.value.trim()])})}catch(r){if(console.log("catch"+a),a)return L.a.toast({html:"Category already exists!"});e.addCat({user:"".concat(e.auth.user.id||e.auth.user._id),category:[t.current.value.trim()]})}};return c.a.createElement("div",{class:"cont col col-md-12 col-lg-12 col-xl-12"},c.a.createElement("div",{id:"modal1",class:"modal"},c.a.createElement("div",{class:"modal-content"},c.a.createElement("h4",null,"Add Category"),c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"input-field col s12"},c.a.createElement("input",{ref:t,id:"cat",type:"text"}),c.a.createElement("label",{for:"cat"},"Category Name"))),c.a.createElement("div",{class:"d-flex justify-content-around"},c.a.createElement("div",{class:"modal-close btn bg-danger",onClick:function(){return l()}},"Cancel"),c.a.createElement("div",{class:"modal-close btn bg-success",onClick:function(){return o()}},"Add")))),c.a.createElement("div",{class:"head center"},"Categories"),c.a.createElement("div",{class:"collection"},c.a.createElement("a",{onClick:function(){return function(){t.current.value="";var e=document.getElementById("modal1");L.a.Modal.init(e,{dismissible:!1}).open()}()},class:"indigo-text collection-item"},c.a.createElement("div",{class:"center"},"Add New",c.a.createElement("a",{class:"secondary-content"},c.a.createElement("i",{class:"material-icons"},"add")))),function(){console.log(e.list.category.resp);try{return e.list.category.resp.category.map((function(t){return c.a.createElement("a",{onClick:function(){return e.chosen(t)},class:"indigo-text collection-item"},t)}))}catch(t){}}()))}));var M=Object(s.b)((function(e){return{auth:e.auth,error:e.error,list:e.list}}),n)((function(e){var t=Object(A.f)(),a=Object(r.useRef)(),n=function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e})),t.current}(e);Object(r.useEffect)((function(){if(a.current){if(e.error!==n.error)if("add_note"===e.error.id&&"Successful"===e.error.msg&&"update"===e.list.mode)e.getNote("".concat(e.auth.user.id||e.auth.user._id)),L.a.toast({html:"Note Updated"});else if("DELETE_NOTE"===e.error.id&&"Successful"===e.error.msg&&"delete"===e.list.mode)e.getNote("".concat(e.auth.user.id||e.auth.user._id)),L.a.toast({html:"Note Deleted"});else if("DELETE_CATEGORY"===e.error.id&&"Successful"===e.error.msg){e.getNote("".concat(e.auth.user.id||e.auth.user._id));try{e.chosen(e.list.category.resp.category[0])}catch(t){console.log(t.toString())}p(),L.a.toast({html:"Category Deleted"})}console.log(n),console.log(e)}else a.current=!0}));var l=Object(r.useState)(),o=Object(N.a)(l,2),s=o[0],i=o[1],u=Object(r.useRef)(),d=Object(r.useRef)();Object(r.useEffect)((function(){try{console.log(e.list),void 0===e.list.chosen&&console.log(e.list),e.chosen(e.list.category.resp.category[0])}catch(t){console.log(t.toString()),e.chosen("Add Some Category")}}),[e.list.category.resp]);var m=function(){try{return e.list.category.resp.category.length>0?c.a.createElement("div",{class:"m-5 indigo lighten-4 center jumbotron"},c.a.createElement("h1",{class:"display-4"},"Hi There!"),c.a.createElement("p",{class:"lead info-txt"},"Take a Note!"),c.a.createElement("div",{class:"m-2 btn red"},"Youtube demo"),c.a.createElement("div",{class:"m-2 btn black"},"Github source")):c.a.createElement("div",{class:"m-5 indigo lighten-4 center jumbotron"},c.a.createElement("h1",{class:"display-4"},"Hi There!"),c.a.createElement("p",{class:"lead info-txt"},"Add category to get started"),c.a.createElement("div",{class:"m-2 btn red"},"Youtube demo"),c.a.createElement("div",{class:"m-2 btn black"},"Github source"))}catch(t){return c.a.createElement("div",{class:"m-5 indigo lighten-4 center jumbotron"},c.a.createElement("h1",{class:"display-4"},"Hi There!"),c.a.createElement("p",{class:"lead info-txt"},"Add category to get started"),c.a.createElement("div",{class:"m-2 btn red"},"Youtube demo"),c.a.createElement("div",{class:"m-2 btn black"},"Github source"))}},f=function(){try{console.log(e.auth.user.id||e.auth.user._id);var t=e.list.category.resp.category,a=t.indexOf(e.list.chosen);console.log(a),a>-1&&t.splice(a,1),e.deleteCat({data:{user:"".concat(e.auth.user.id||e.auth.user._id),category:t},chosen:e.list.chosen})}catch(n){L.a.toast({html:"Session Expired.. Login again"})}},p=function(){var t=[],a=[],n=!1;t=e.list.notes.resp;var r=e.list.chosen;console.log(e.list);try{if(t.map((function(e){e.category===r&&(n=!0)})),!n)try{if("Add Some Category"!==e.list.chosen)return"Add Some Category"!==e.list.chosen?m():null}catch(l){return m()}return t.map((function(t){if(console.log(t),t.category===r)return a=t.note,console.log(a),c.a.createElement("div",{class:"row m-2"},c.a.createElement("div",{class:"col s12 m6"},c.a.createElement("div",{class:"card indigo lighten-5"},c.a.createElement("div",{class:"card-content"},c.a.createElement("h4",{style:{padding:0,margin:0},class:"indigo-text"},t.title),c.a.createElement("div",{class:"pr-4 pl-4 mt-2"},c.a.createElement("p",{class:"styled-form"},t.note))),c.a.createElement("div",{class:"right-align"},c.a.createElement("div",{onClick:function(){return function(e){i(e),console.log(d),u.current.value="".concat(e.title),d.current.value=e.note;var t=document.getElementById("modal3");L.a.Modal.init(t,{dismissible:!1}).open()}(t)},class:"indigo btn m-1"},"Edit"),c.a.createElement("div",{onClick:function(){e.modeAction("delete"),e.deleteNote(t)},class:"indigo btn m-1"},"Delete")))))}))}catch(o){return null}};return console.log(e.list.chosen),c.a.createElement("div",{class:"card"},function(){try{return e.list.category.resp.category.length>0?c.a.createElement("div",{class:"d-flex justify-content-between"},c.a.createElement("div",{class:"m-3 head-note center"},e.list.chosen),c.a.createElement("div",{onClick:f,class:"m-3 right btn red white-text"},"Drop")):null}catch(t){return null}}(),c.a.createElement("div",{style:{float:"right",marginTop:"20px"},class:"col col-md-12 col-lg-12 col-xl-12"},"Add Some Category"!==e.list.chosen?null:m(),p(),c.a.createElement("div",{id:"modal3",class:"modal"},c.a.createElement("div",{class:"modal-content"},c.a.createElement("h4",null,"Update Note"),c.a.createElement("label",{class:"indigo-text"},"Note Title"),c.a.createElement("div",{class:"row col col-sm-12 col-md-12 col-lg-12 col-xl-12"},c.a.createElement("div",{class:"input-field col col-sm-12 col-md-12 col-lg-12 col-xl-12"},c.a.createElement("input",{class:"indigo-text",ref:u,id:"title",type:"text"}))),c.a.createElement("label",{class:"indigo-text"},"Take a note here!"),c.a.createElement("div",{class:"row col col-sm-12 col-md-12 col-lg-12 col-xl-12"},c.a.createElement("div",{class:"input-field col col-sm-12 col-md-12 col-lg-12 col-xl-12"},c.a.createElement("textarea",{ref:d,id:"textarea2",class:"materialize-textarea indigo-text"}))),c.a.createElement("div",{class:"d-flex justify-content-around"},c.a.createElement("div",{class:"modal-close btn bg-danger",onClick:function(){return function(){var e=document.getElementById("modal1");L.a.Modal.init(e,{dismissible:!0}).destroy()}()}},"Cancel"),c.a.createElement("div",{class:"modal-close btn bg-success",onClick:function(){return function(){if(""===u.current.value.trim()||""===d.current.value.trim())return L.a.toast({html:"Please Enter Category Name"});if(e.auth.isAuthenticated){var a={category:e.list.chosen,title:u.current.value.trim(),note:d.current.value.trim(),user:"".concat(e.auth.user.id||e.auth.user._id)};console.log(a),e.modeAction("update"),e.addNote(a),e.deleteNote(s)}else L.a.toast({html:"Session Timed Out Login Again"}),e.logout(),t.push("/")}()}},"Add"))))))}));var Y=Object(s.b)((function(e){return{auth:e.auth,error:e.error,list:e.list}}),n)((function(e){var t=Object(A.f)(),a=Object(r.useState)(!0),n=Object(N.a)(a,2),l=(n[0],n[1],Object(r.useRef)()),o=Object(r.useRef)(),s=Object(r.useRef)(),i=function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e})),t.current}(e),u=function(){var e=document.getElementById("modal1");L.a.Modal.init(e,{dismissible:!0}).destroy()};return Object(r.useEffect)((function(){s.current?(e.error!==i.error&&"add_note"===e.error.id&&"Successful"===e.error.msg&&"add"===e.list.mode&&(L.a.toast({html:"Note Added"}),u(),e.getNote("".concat(e.auth.user.id||e.auth.user._id))),console.log(i),console.log(e)):s.current=!0})),Object(r.useEffect)((function(){if(e.auth.user)try{console.log(e.auth.user.id),console.log(e.auth.user._id),e.getCat("".concat(e.auth.user.id||e.auth.user._id)),e.getNote("".concat(e.auth.user.id||e.auth.user._id)),console.log(e.auth.user)}catch(t){console.log(e.auth.user)}}),[e.auth.user]),c.a.createElement("div",{class:"col col-sm-12"},c.a.createElement("div",{id:"modal2",class:"modal"},c.a.createElement("div",{class:"modal-content"},c.a.createElement("h4",null,"Add Note"),c.a.createElement("div",{class:"row col col-sm-12 col-md-12 col-lg-12 col-xl-12"},c.a.createElement("div",{class:"input-field col col-sm-12 col-md-12 col-lg-12 col-xl-12"},c.a.createElement("input",{ref:l,id:"cat",type:"text"}),c.a.createElement("label",{class:"active indigo-text",for:"cat"},"Note Title"))),c.a.createElement("div",{class:"row col col-sm-12 col-md-12 col-lg-12 col-xl-12"},c.a.createElement("div",{class:"input-field col col-sm-12 col-md-12 col-lg-12 col-xl-12"},c.a.createElement("textarea",{ref:o,id:"textarea1",class:"materialize-textarea"}),c.a.createElement("label",{class:"active indigo-text",for:"textarea1"},"Take a note here!"))),c.a.createElement("div",{class:"d-flex justify-content-around"},c.a.createElement("div",{class:"modal-close btn bg-danger",onClick:function(){return u()}},"Cancel"),c.a.createElement("div",{class:"modal-close btn bg-success",onClick:function(){return function(){if(""===l.current.value.trim()||""===o.current.value.trim())return L.a.toast({html:"Please Enter Category Name"});if(e.auth.isAuthenticated){var a={category:e.list.chosen,title:l.current.value.trim(),note:o.current.value,user:"".concat(e.auth.user.id||e.auth.user._id)};console.log(a),e.modeAction("add"),e.addNote(a)}else L.a.toast({html:"Session Timed Out Login Again"}),e.logout(),t.push("/")}()}},"Add")))),c.a.createElement(F,{mode:"dashboard"}),c.a.createElement("div",{className:"row"},c.a.createElement("div",{class:"hide-on-small-only col col-md-4 col-lg-3 col-xl-2"},c.a.createElement(K,null)),c.a.createElement("div",{class:"hide-on-small-only my-side-meu col col-md-4 col-lg-3 col-xl-2"},c.a.createElement(U,null)),c.a.createElement("div",{class:"col col-sm-12 col-md-8 col-lg-9 col-xl-10"},c.a.createElement(M,null)),c.a.createElement("div",{onClick:function(){return function(){o.current.style.height="44px",l.current.value="",o.current.value="";var e=document.getElementById("modal2");L.a.Modal.init(e,{dismissible:!1}).open()}()},class:"fixed-action-btn"},c.a.createElement("a",{class:"btn-floating btn-large indigo darken-4"},c.a.createElement("i",{class:"large material-icons"},"add")))))}));var B=Object(s.b)((function(e){}),n)((function(e){return Object(r.useEffect)((function(){e.fetchUser()}),[]),c.a.createElement(R.a,null,c.a.createElement(A.c,null,c.a.createElement(A.a,{exact:!0,path:"/"},c.a.createElement(P,null)),c.a.createElement(A.a,{exact:!0,path:"/dashboard"},c.a.createElement(Y,null))))})),H=a(40),q=a(29),J=a(15),z=a(4),V=Object(J.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{token:localStorage.getItem("token"),isAuthenticated:null,isLoading:!1,user:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOADING":return Object(z.a)(Object(z.a)({},e),{},{isLoading:!0});case"USER_LOADED":return Object(z.a)(Object(z.a)({},e),{},{isLoading:!1,user:t.payload,isAuthenticated:!0});case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":return localStorage.setItem("token",t.payload.token),Object(z.a)(Object(z.a)(Object(z.a)({},e),t.payload),{},{isLoading:!1,isAuthenticated:!0});case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOG_OUT_SUCCESS":case"REGISTER_FAIL":return localStorage.removeItem("token"),Object(z.a)(Object(z.a)({},e),{},{token:null,isAuthenticated:!1,isLoading:!1,user:null});default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{msg:{},status:null,id:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return{msg:t.payload.msg,status:t.payload.status,id:t.payload.id};case"LOGOG_OUT_SUCCESS":case"CLEAR_ERRORS":return{msg:{},status:null,id:null};default:return e}},list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{category:[],notes:[],mode:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CATEGORY":return Object(z.a)(Object(z.a)({},e),{},{category:t.payload});case"CHOSEN":return Object(z.a)(Object(z.a)({},e),{},{chosen:t.payload});case"get_note":return Object(z.a)(Object(z.a)({},e),{},{notes:t.payload});case"LOGOG_OUT_SUCCESS":return{category:[],notes:[],mode:""};case"MODE":return Object(z.a)(Object(z.a)({},e),{},{mode:t.payload});default:return e}}}),W=a(41),Q=a(42),X=function(){function e(){Object(H.a)(this,e),this._store=null,this.initStore()}return Object(q.a)(e,null,[{key:"getDefaultStore",value:function(){return null===e.DefaultStore&&(e.DefaultStore=new e),e.DefaultStore}}]),Object(q.a)(e,[{key:"initStore",value:function(){var t=this;this._store=Object(J.createStore)(V,e.loadState(),Object(Q.composeWithDevTools)(Object(J.applyMiddleware)(W.a))),this._store.subscribe((function(){e.saveState(t._store.getState())}))}},{key:"store",get:function(){return this._store}}],[{key:"loadState",value:function(){try{var t=localStorage.getItem("localData");return null===t?e.initialState():JSON.parse(t)}catch(a){return e.initialState()}}},{key:"saveState",value:function(e){try{var t=JSON.stringify(e);localStorage.setItem("localData",t)}catch(a){}}},{key:"initialState",value:function(){return{}}}]),e}();X.DefaultStore=null;var Z=X;a(73),a(74);o.a.render(c.a.createElement(s.a,{store:Z.getDefaultStore().store},c.a.createElement(B,null)),document.querySelector("#root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.779595d5.chunk.js.map